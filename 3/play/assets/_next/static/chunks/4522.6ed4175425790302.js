(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4522],{53325:function(e){e.exports=function(e,t){return e>t}},6162:function(e,t,n){var i=n(56029),r=n(53325),o=n(6557);e.exports=function(e){return e&&e.length?i(e,o,r):void 0}},62252:function(e,t){"use strict";t.Z={src:"/_next/static/media/now-premium-symbol.f6322625.webp",height:73,width:73,blurDataURL:"data:image/webp;base64,UklGRrwAAABXRUJQVlA4WAoAAAAQAAAABwAABwAAQUxQSDQAAAABYBRJkqLxsfsC1fyiO1PMZGFRRERMALD+/3sK5I4xxpu42LRH69ham2kZvFQLBsSHQSAAVlA4IGIAAAAQAgCdASoIAAgAAkA4JbACdAEegm7FtxoAAP7PbAiVU+f/dp9rQLBk3PmTzglv2EiWGKenOkzxLmXLJkkwytGNS/EFNzyHMyitOytOjv/M97zv/NkfjXb5T2Dax3vNqUgAAA==",blurWidth:8,blurHeight:8}},85886:function(e,t){"use strict";t.Z={src:"/_next/static/media/redirect-arrow.e966dafd.webp",height:64,width:65,blurDataURL:"data:image/webp;base64,UklGRnoAAABXRUJQVlA4WAoAAAAQAAAABwAABwAAQUxQSDQAAAABYBPbVpxbsvuAjoqSwUjmO8imAUtZdEVCwENETABztYhIGqxfBwjv+fNPLR3U1Rhk8JE5VlA4ICAAAAAwAQCdASoIAAgAAkA4JaQAA3AA/vqCFaWCLWn34AAAAA==",blurWidth:8,blurHeight:8}},50989:function(e,t,n){"use strict";n.d(t,{Z:function(){return ey}});var i=n(85893),r=n(4374),o=n(67294),c=n(1857),l=n(42771),a=n(66972),s={src:"/_next/static/media/secure-payment.24624943.webp",height:128,width:286,blurDataURL:"data:image/webp;base64,UklGRj4AAABXRUJQVlA4IDIAAADQAQCdASoIAAQAAkA4JZwCdAEf/83+BAD++UBfok++SakxlrvuYPjf1VIWyZEB45TAAA==",blurWidth:8,blurHeight:4},d={src:"/_next/static/media/secure-ssl-payment.ec254ed3.webp",height:128,width:345,blurDataURL:"data:image/webp;base64,UklGRmoAAABXRUJQVlA4WAoAAAAQAAAABwAAAgAAQUxQSBkAAAAAHTwAAAAAAACQyW90YXB7YX2/Uk5QUElLAFZQOCAqAAAAkAEAnQEqCAADAAJAOCWkAALnUAwQAP6F4aTev58SmEXSlH9P+gT/AAAA",blurWidth:8,blurHeight:3},p={src:"/_next/static/media/info.ee0dbd1b.webp",height:64,width:64,blurDataURL:"data:image/webp;base64,UklGRp4AAABXRUJQVlA4WAoAAAAQAAAABwAABwAAQUxQSEEAAAAAACmgoaGiKQAppw8AAA+nKaIPAEhHAA+goQAALi4AAKGhAABQUAAAoaAPAEpKAA+iKacPAAAPpykAKaKhoaApAABWUDggNgAAANABAJ0BKggACAACQDglqAJ0ugEt/A9QAP7x/9/87UO1Y1R/8NBB/bR+Of8zgvlwa6LCeAAAAA==",blurWidth:8,blurHeight:8},u=n(51869),h=n(81069),A=n(36887),g=n(83530),x=n(21038),m=n(6284),f=n(85470),w=n(62252),y=n(94183),b=n(51315),j=n(77289),v=n(77621),I=n(84502),P=n(81043),S=n(82492),C=n(27633),k=n(41640),N=n(44314),Z=n(15431),T=n(6162),U=n.n(T),E=n(53632),Q=n.n(E),R=n(57833);let B=R.ZP.div.withConfig({componentId:"sc-bc9999e-0"})(["display:flex;width:360px;min-height:505px;flex-direction:column;align-items:center;flex-shrink:0;border-radius:12px;border:1px solid ",";background:rgba(0,0,0,0.05);backdrop-filter:blur(60px);max-width:100%;&.landscape{height:100%;width:100%;min-height:380px;border:none;align-self:baseline;border-radius:0px;}&.jpHomePage{border:none;}"],e=>{let{theme:t}=e;return t.colors.white10}),L=R.ZP.div.withConfig({componentId:"sc-bc9999e-1"})(["display:flex;padding:11px 12px 11px 20px;justify-content:space-between;align-items:center;align-self:stretch;background:",";color:",";border-radius:12px 12px 0px 0px;&.landscape{border-radius:0px;}&.jpHomePage{border:1px solid ",";}i{cursor:pointer;padding:4px;border-radius:6px;&:hover{background:",";}}"],e=>{let{theme:t}=e;return t.colors.white20},e=>{let{theme:t}=e;return t.colors.white},e=>{let{theme:t}=e;return t.colors.white10},e=>{let{theme:t}=e;return t.colors.white10}),D=R.ZP.div.withConfig({componentId:"sc-bc9999e-2"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;padding:24px 20px;width:100%;gap:20px;&.landscape{border-radius:0px;flex-direction:row;padding:24px;gap:40px;height:100%;}&.small{overflow:auto;}button{height:56px;width:100%;}"]),H=R.ZP.div.withConfig({componentId:"sc-bc9999e-3"})(["display:flex;flex-direction:row;align-items:center;gap:12px;width:100%;color:",";&.landscape{h3{font-size:20px;font-weight:600;line-height:150%;}}&.paymentTypes{flex-direction:column;text-align:center;}&.row{flex-direction:row;}img{width:56px;height:56px;}",""],e=>{let{theme:t}=e;return t.colors.white},e=>{let{paymentInProgress:t}=e;return t?(0,R.iv)(["justify-content:center;div{flex:unset;}"]):(0,R.iv)(["div{flex:1;}"])}),W=R.ZP.div.withConfig({componentId:"sc-bc9999e-4"})(["display:flex;flex-direction:column;align-items:center;gap:8px;width:100%;color:",";&.landscape{border-radius:24px;border:1px solid ",";padding:16px;}"],e=>{let{theme:t}=e;return t.colors.caution},e=>{let{theme:t}=e;return t.colors.white10}),z=R.ZP.div.withConfig({componentId:"sc-bc9999e-5"})(["display:flex;flex-direction:column;flex:1;"]),_=R.ZP.div.withConfig({componentId:"sc-bc9999e-6"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;gap:12px;flex:1 0 0;align-self:stretch;color:",";align-items:flex-start;margin-bottom:16px;"],e=>{let{theme:t}=e;return t.colors.white}),J=R.ZP.div.withConfig({componentId:"sc-bc9999e-7"})(["display:flex;padding:7px 12px;justify-content:space-between;align-items:center;align-self:stretch;border-radius:4px;border:1px solid ",";gap:8px;cursor:pointer;img{width:48px;height:28px;margin:4px 0px;}p{flex:1;}&.selected{border:1px solid ",";background:",";}"],e=>{let{theme:t}=e;return t.colors.white10},e=>{let{theme:t}=e;return t.colors.ascent},e=>{let{theme:t}=e;return t.colors.white10}),O=R.ZP.div.withConfig({componentId:"sc-bc9999e-8"})(["background:rgba(255,255,255,0.1);height:1px;width:100%;"]),V=R.ZP.div.withConfig({componentId:"sc-bc9999e-9"})(["display:flex;flex-direction:row;gap:6px;color:",";align-items:center;justify-content:center;width:100%;div{margin:0px;}"],e=>{let{theme:t}=e;return t.colors.white}),F=R.ZP.div.withConfig({componentId:"sc-bc9999e-10"})(["display:flex;flex-direction:column;align-items:center;gap:8px;color:",";&.landscape{max-width:320px;align-self:center;}h3{font-size:20px;font-weight:700;}p{color:",";text-align:center;}"],e=>{let{theme:t}=e;return t.colors.white},e=>{let{theme:t}=e;return t.colors.white70}),q=R.ZP.div.withConfig({componentId:"sc-bc9999e-11"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;align-self:center;width:128px;height:128px;color:",";svg{position:absolute;top:0;left:0;width:128px;height:128px;transform:translate(12px,-17px) rotateZ(-90deg);overflow:visible;}"],e=>{let{theme:t}=e;return t.colors.white}),G=R.ZP.div.withConfig({componentId:"sc-bc9999e-12"})(["display:flex;flex-direction:column;align-items:center;gap:8px;color:",";margin-top:8px;"],e=>{let{theme:t}=e;return t.colors.white}),M=R.ZP.div.withConfig({componentId:"sc-bc9999e-13"})(["display:flex;flex-direction:row;gap:8px;align-items:center;justify-content:center;flex-wrap:wrap;row-gap:0px;a{text-decoration:none;}"]),Y=(0,R.F4)(["0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}"]),X=R.ZP.img.withConfig({componentId:"sc-bc9999e-14"})(["animation:"," 1s linear infinite;align-self:center;width:72px;height:72px;margin:24px 0px;"],Y),K=R.ZP.div.withConfig({componentId:"sc-bc9999e-15"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:center;gap:12px;align-self:stretch;color:",";align-items:flex-start;margin-bottom:24px;height:156px;overflow-y:scroll;padding-right:4px;&::-webkit-scrollbar{display:block;width:4px;}::-webkit-scrollbar-thumb{background:",";border-radius:10px;}"],e=>{let{theme:t}=e;return t.colors.white},e=>{let{theme:t}=e;return t.colors.white20}),$=R.ZP.div.withConfig({componentId:"sc-bc9999e-16"})(["display:flex;align-items:center;justify-content:center;gap:12px;opacity:0.6;align-self:normal;"]),ee=R.ZP.img.withConfig({componentId:"sc-bc9999e-17"})(["height:32px;mix-blend-mode:lighten;"]),et=R.ZP.div.withConfig({componentId:"sc-bc9999e-18"})(["display:flex;gap:8px;color:",";"],e=>{let{theme:t}=e;return t.colors.caution});R.ZP.ul.withConfig({componentId:"sc-bc9999e-19"})(["color:",";padding-inline-start:16px;margin:0px;"],e=>{let{theme:t}=e;return t.colors.caution});let en=R.ZP.div.withConfig({componentId:"sc-bc9999e-20"})(["display:flex;gap:16px;justify-content:center;flex-direction:column;&.landscape{width:50%;height:100%;}"]),ei=R.ZP.div.withConfig({componentId:"sc-f01145ab-0"})(["display:flex;align-items:center;cursor:pointer;border:1px solid ",";width:20px;height:20px;border-radius:50%;img{width:21px;height:21px;}"],e=>{let{theme:t}=e;return t.colors.white50});var er=e=>{let{selected:t}=e;return(0,i.jsx)(ei,{children:t&&(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[(0,i.jsx)("circle",{cx:"10.2348",cy:"10.2353",r:"10.4",fill:"#B3D661"}),(0,i.jsx)("path",{d:"M5.4679 9.96527L8.5368 13.3842C8.68912 13.5539 8.95501 13.5539 9.10733 13.3842L15.4346 6.33532",stroke:"white",strokeWidth:"1.51667",strokeLinecap:"round",strokeLinejoin:"round"})]})})},eo={src:"/_next/static/media/cloudy-error.9a98e7de.webp",height:439,width:512,blurDataURL:"data:image/webp;base64,UklGRrwAAABXRUJQVlA4WAoAAAAQAAAABwAABgAAQUxQSDkAAAABYFNbW5uPDRHMzBym7iYncxTEQZxl7EVG71VEREwAEFH8cukZABVm1xqQ+PpN+r+h/OtEum7b1joAVlA4IFwAAAAQAgCdASoIAAcAAkA4JbACdAaTA2kFgLeAAP715m4ejeDvSx8x9dJdC8ktMJNJ5mffOgivkvzohTjCsz0vZDtMpX0Yf5kXqkHvs+E229KoiIwAyH2NqBn8j5AAAA==",blurWidth:8,blurHeight:7};let ec=R.ZP.div.withConfig({componentId:"sc-28f4bfb2-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:446px;width:100%;gap:32px;&.landscape{flex-direction:row;height:100%;}h3{color:",";font-size:24px;line-height:28px;font-weight:700;}"],e=>{let{theme:t}=e;return t.colors.white}),el=R.ZP.img.withConfig({componentId:"sc-28f4bfb2-1"})(["width:128px;height:110px;"]),ea=R.ZP.div.withConfig({componentId:"sc-28f4bfb2-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;flex:1;"]),es=R.ZP.div.withConfig({componentId:"sc-28f4bfb2-3"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;p{color:",";}h3{font-size:20px;}"],e=>{let{theme:t}=e;return t.colors.white70}),ed=R.ZP.div.withConfig({componentId:"sc-28f4bfb2-4"})(["margin:0px 16px;"]),ep=(0,R.ZP)(c.lU).attrs({as:"span"}).withConfig({componentId:"sc-28f4bfb2-5"})(["color:",";.link{color:",";cursor:pointer;}"],e=>{let{theme:t}=e;return t.colors.white70},e=>{let{theme:t}=e;return t.colors.link}),eu=R.ZP.div.withConfig({componentId:"sc-28f4bfb2-6"})(["display:flex;flex-direction:column;align-items:center;gap:20px;"]),eh=R.ZP.div.withConfig({componentId:"sc-28f4bfb2-7"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:32px;width:100%;&.landscape{width:50%;}"]),eA={cancel:{titleImg:eo,titleText:"cancelTransaction",errorDesc:"confirmCancellation"},timeout:{titleImg:eo,titleText:"paymentIncomplete",errorDesc:"paymentIncompleteDesc"},failure:{titleImg:{src:"/_next/static/media/cloudy-sad.10d3dc46.webp",height:513,width:512,blurDataURL:"data:image/webp;base64,UklGRr4AAABXRUJQVlA4WAoAAAAQAAAABwAABwAAQUxQSDQAAAABYBVJVqNHMoMQChs4QwhYSAIeIjJ/l09DREwA/NQxKABh2nFUI+zxavfbTm9ZOkQsXsInVlA4IGQAAACQAgCdASoIAAgAAkA4JbACdAYZfqAH6gGp+yljUAD+8uXdV9/KnNvCw1zLVsSioyQ9sSXsZK5/HUZ1zLQ/GX2/8rJhC+oqQOHuYtqfYa+WYZwV8dccKoXZX+Y+7QpI8+620WAA",blurWidth:8,blurHeight:8},titleText:"paymentFailed",errorDesc:"paymentFailedDesc"}};var eg=e=>{let{type:t,onClose:n,onNoCancellation:a,orderNo:s,orientation:d}=e,{t:p}=(0,r.$)(),u=eA[t],h=(0,y.tq)()&&!(0,y.Em)()&&!(0,y.zc)(),[A,x]=(0,o.useState)(d===I.cj.landscape&&h);return(0,o.useEffect)(()=>{x(d===I.cj.landscape&&h)},[d]),(0,i.jsxs)(ec,{className:"".concat(A?"landscape":""),children:[(0,i.jsxs)(eh,{className:"".concat(A?"landscape":""),children:[(0,i.jsx)(ea,{children:(0,i.jsx)(el,{src:(0,l.jW)(u.titleImg),alt:"error"})}),(0,i.jsxs)(es,{children:[(0,i.jsx)(c.Bb,{children:p(u.titleText)}),(0,i.jsx)(c.TZ,{children:p(u.errorDesc)})]}),"failure"===t&&(0,i.jsxs)(es,{children:[(0,i.jsx)(c.Bb,{style:{fontSize:"16",fontWeight:"600"},children:p("orderNo")}),(0,i.jsx)(c.TZ,{children:s})]})]}),(0,i.jsx)(eh,{children:(0,i.jsxs)(eu,{children:["cancel"!==t&&(0,i.jsxs)(ed,{children:[(0,i.jsx)(ep,{children:p("reachOutIfCharged")}),(0,i.jsxs)(ep,{style:{color:m.qm.colors.link},children:[" ",(0,i.jsx)("a",{className:"link",href:"mailto:store-support@now.gg",target:"_blank",rel:"noreferrer",children:"store-support@now.gg"})]})]}),(0,i.jsx)(g.z,{variant:"primary",size:"xlarge",onClick:n,children:p("cancel"===t?"confirm":"close")}),"cancel"===t&&(0,i.jsx)(g.z,{variant:"primaryOutline",size:"xlarge",onClick:a,children:p("dontCancel")})]})})]})},ex=n(85886);let em=R.ZP.div.withConfig({componentId:"sc-e21ec3c7-0"})(["display:flex;padding:0px 8px 32px 8px;flex-direction:column;align-items:center;gap:8px;align-self:stretch;border-bottom:1px solid ",";p{color:",";}button{max-width:190px;}"],e=>{let{theme:t}=e;return t.colors.white10},e=>{let{theme:t}=e;return t.colors.ascent});var ef=e=>{let{url:t}=e,{t:n}=(0,r.$)();return(0,i.jsxs)(em,{children:[(0,i.jsx)(c.lU,{children:n("noPaymentPage")}),(0,i.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",style:{width:"auto",textDecoration:"none"},children:(0,i.jsxs)(g.z,{variant:"primary",size:"medium",disabled:""===t,children:[n("showPaymentScreen"),(0,i.jsx)("img",{alt:"",loading:"lazy",src:(0,l.jW)(ex.Z),width:16,height:16})]})})]})},ew=function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function c(e){try{a(i.next(e))}catch(e){o(e)}}function l(e){try{a(i.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(c,l)}a((i=i.apply(e,t||[])).next())})},ey=e=>{let{product:t,onFailure:n,source:T,paymentsToken:E,paymentsGuid:R,paymentOptions:Y,orientation:ei,isLandscapeModal:eo}=e,{t:ec}=(0,r.$)(),[el,ea]=(0,o.useState)(),[es,ed]=(0,o.useState)(!0),ep=104*Math.PI,[eu,eh]=(0,o.useState)(599),eA=(0,o.useRef)(599);eA.current=eu;let[ex,em]=(0,o.useState)(!1),[ey,eb]=(0,o.useState)(""),[ej,ev]=(0,o.useState)("".concat(parseInt("".concat(eu/60),10)," : ").concat(eu%60<10?"0":"").concat(eu%60)),eI=(0,o.useRef)(),[eP,eS]=(0,o.useState)(""),eC=(0,P.I0)(),ek=(0,P.v9)(e=>e.play.paymentAppId),eN=(0,P.v9)(e=>e.play.nowPremiumSubscriptionActive),[eZ,eT]=(0,o.useState)("");!(0,y.tq)()||(0,y.Em)()||(0,y.zc)();let[eU,eE]=(0,o.useState)(((ei===I.cj.landscape?Q()([window.innerHeight,window.innerWidth]):U()([window.innerHeight,window.innerWidth]))||window.innerHeight)-56),eQ=(0,P.v9)(e=>e.play.paymentInProgress),eR=()=>{eE(((ei===I.cj.landscape?Q()([window.innerHeight,window.innerWidth]):U()([window.innerHeight,window.innerWidth]))||window.innerHeight)-56)},eB=e=>{if(!S.default.getState().play.paymentInProgress)return null;let t="Your Payment won't be completed";return e.returnValue=t,e.preventDefault(),t};(0,o.useEffect)(()=>((0,Z.L9)("PaymentMethodSelectionDisplayed",{nowPassSource:T,planType:t.type}),window.addEventListener("resize",eR),window.addEventListener("orientationchange",eR),window.addEventListener("beforeunload",eB),()=>{window.removeEventListener("resize",eR),window.removeEventListener("orientationchange",eR),window.removeEventListener("beforeunload",eB)}),[]),(0,o.useEffect)(()=>{eR()},[ei]),(0,o.useEffect)(()=>{!el&&Y.length>0&&ea(Y[0])},[Y]);let eL=()=>ew(void 0,void 0,void 0,function*(){var e,n,i,r;if(!S.default.getState().play.paymentInProgress&&!S.default.getState().play.nowPremiumSubscriptionActive){(0,Z.L9)("PayNowClicked",{nowPassSource:T,planType:t.type,paymentProvider:null==el?void 0:el.payType}),eC({type:C.Z.SET_PAYMENT_STATUS,payload:{paymentInProgress:!0}});try{let o;let c=(0,y.no)("np",18).toLowerCase();try{if((o=yield b.Z.createOrder({},{appId:ek,channelName:"nowgg_cloud",channel:"nowgg_cloud",countryRegionCode:"OTHERS",countryCode:v.default.countryCode||"IN",payType:(null==el?void 0:el.id)||0,postalCode:"OTHERS",productId:t.productId,timestamp:Date.now(),token:E,developerPayload:c})).success)(0,Z.L9)(j.Wes,{payType:"".concat((null==el?void 0:el.id)||0),payName:"".concat((null==el?void 0:el.payType)||0),productId:"".concat(t.productId),orderNo:null===(e=null==o?void 0:o.data)||void 0===e?void 0:e.orderNo,countryCode:v.default.countryCode||"IN",CountryRegionCode:v.default.countryCode||"IN",postalCode:"OTHERS",guid:R||"",appid:t.appId,deviceType:(0,y.zj)().feDeviceType,paymentsToken:E,paymentsGuid:R,subscriptionId:c}),eT(null===(n=null==o?void 0:o.data)||void 0===n?void 0:n.orderNo);else{if(1607===o.code&&(yield(0,N.sR)(ek,E)))return;throw Error("createOrder API error: ".concat(JSON.stringify(o)))}}catch(e){throw Error("createOrder API error: ".concat(e))}let{status:l,subscriptionInfo:a}=(yield k.ZP.initiate({},{appId:v.default.appInfo.appId,productId:t.productId,orderNumber:null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.orderNo,token:E,feSessionId:window.feSessionId||"NA",uaSessionId:(0,y.io)(j.K3T),uaId:(0,y.Fz)(j.nPo),playSessionId:v.default.playSessionId||"NA",pageReferrer:sessionStorage.getItem("pageReferrer")||"NA",ngReferrer:sessionStorage.getItem("ngReferrer")||"NA",ngEntryPoint:sessionStorage.getItem("ngEntryPoint")||"NA",utmSource:sessionStorage.getItem("utm_source")||"NA",utmCampaign:sessionStorage.getItem("utm_campaign")||"NA",utmMedium:sessionStorage.getItem("utm_medium")||"NA",visitId:window.ngVisitId,ntmSource:sessionStorage.getItem("ntmSource")||"NA",feDeviceType:(0,y.zj)().feDeviceType,feOsName:(0,y.zj)().feOsName,feSessionTags:(0,y.pC)(),userSource:localStorage.getItem("userSource")||"NA",visitSource:(0,y.Fc)(),userCampaign:localStorage.getItem("userCampaign")||"NA",visitCampaign:sessionStorage.getItem("utm_campaign")||"NA",userAcqVar:localStorage.getItem("userAcqVar")||"NA",nowPassSource:S.default.getState().play.subscriptionFlowSource,subscriptionId:c}))||{};if(l===I.KS.SubscriptionAlreadyInitiated&&a&&(yield(0,N.sR)(null==a?void 0:a.subscriptionAppId,E)))return;let s="".concat(v.default.appInfo.paymentBaseRedirectHost,"/user/payment/iappay.html#&").concat(new URLSearchParams({payType:"".concat((null==el?void 0:el.id)||0),payName:"".concat((null==el?void 0:el.payType)||0),productId:"".concat(t.productId),orderNo:null===(r=null==o?void 0:o.data)||void 0===r?void 0:r.orderNo,countryCode:v.default.countryCode||"IN",CountryRegionCode:v.default.countryCode||"IN",postalCode:"OTHERS",subscriptionId:c,guid:R||"",appid:t.appId,inGameId:"null",deviceType:(0,y.zj)().feDeviceType,platform:"cloud"}).toString());eS(s),window.open(s,"_blank","noopener");let d=()=>ew(void 0,void 0,void 0,function*(){var e,n,i,r;if(eh(e=>e-1),eA.current%10==0){let c;try{if((c=yield b.Z.pollPaymentStatus({},{appId:v.default.appInfo.appId,channel:"nowgg_cloud",orderNo:null===(e=null==o?void 0:o.data)||void 0===e?void 0:e.orderNo,timestamp:Date.now(),token:E})).success&&c.data.INAPP_PURCHASE_STATUS){if(eI.current&&clearInterval(eI.current),c.data.INAPP_PURCHASE_STATUS===j.L0_.success){let e=yield(0,N.p8)({productId:t.productId,orderNumber:null===(n=null==o?void 0:o.data)||void 0===n?void 0:n.orderNo,purchaseToken:null===(r=null===(i=null==c?void 0:c.data)||void 0===i?void 0:i.INAPP_PURCHASE_DATA)||void 0===r?void 0:r.purchaseToken,token:E});if(e.status===I.YR.Success)eC({type:C.Z.NOWPREMIUM_SUBSCRIPTION_STATUS,payload:{nowPremiumSubscriptionActive:!0,showSubscriptionEnabledModal:!0,showSubscriptionModal:!1,paymentInProgress:!1}}),(0,N.$f)(e.subscriptionInfo);else throw Error("confirmSubscription API error: ".concat(JSON.stringify(e)))}else c.data.INAPP_PURCHASE_STATUS===j.L0_.fail&&(eb("failure"),em(!0))}}catch(e){(0,u.ZP)(Error("pollPaymentStatus or confirmSubscription API error: ".concat(e)),{error:e})}}});eI.current=setInterval(()=>{d()},1e3)}catch(e){(0,u.ZP)(Error("Exception in Payment popup"),{error:e})}}});return(0,o.useEffect)(()=>{ev("".concat(parseInt("".concat(eu/60),10)," : ").concat(eu%60<10?"0":"").concat(eu%60)),0===eu&&(eI.current&&clearInterval(eI.current),em(!0),eb("timeout"))},[eu]),(0,i.jsxs)(B,{className:"".concat(eo?"landscape":""," ").concat((null===v.default||void 0===v.default?void 0:v.default.isJpHomePage)?"jpHomePage":""),children:[(0,i.jsxs)(L,{className:"".concat(eo?"landscape":""," ").concat((null===v.default||void 0===v.default?void 0:v.default.isJpHomePage)?"jpHomePage":""),children:[(0,i.jsx)("img",{src:(0,l.jW)(h.Z),alt:"",style:{width:"128px",height:"34px"}}),!eQ&&(0,i.jsx)(A.Z,{name:"cross-thin",size:16,onClick:()=>{eb("cancel"),em(!0)}})]}),(0,i.jsx)(D,{className:"".concat(eo?"landscape":""," ").concat(eU<330?"small":""),children:ex?(0,i.jsx)(eg,{type:ey,onNoCancellation:()=>{em(!1)},onClose:()=>{em(!1),eC({type:C.Z.SET_PAYMENT_STATUS,payload:{paymentInProgress:!1}}),n()},orderNo:eZ,orientation:ei}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(en,{className:"".concat(eo?"landscape":""),children:[(eo&&!eQ||!eo)&&(0,i.jsxs)(W,{className:"".concat(eo?"landscape":""),children:[(0,i.jsxs)(H,{paymentInProgress:eQ,className:"".concat(eo?"landscape paymentTypes":""," ").concat(eU<330?"row":""),children:[(0,i.jsx)("img",{src:(0,l.jW)(w.Z),alt:""}),(0,i.jsxs)(z,{children:[(0,i.jsx)(c.Gb,{children:ec("nowPrime")}),(0,i.jsx)(c.lU,{style:{textTransform:"capitalize"},children:"".concat(ec(t.type)," ").concat(ec("pass"))})]}),!eQ&&(0,i.jsx)(c.AC,{children:"".concat(t.currencySymbol).concat(t.offerPrice)})]}),!eQ&&(0,i.jsx)(c.gd,{style:eo?{}:{alignSelf:"baseline",marginLeft:60},children:ec((null===v.default||void 0===v.default?void 0:v.default.isJpHomePage)?"cancelToRefund":"subscriptionNotAutoRenew")})]}),!eo&&(0,i.jsx)(O,{}),eQ?(0,i.jsxs)(i.Fragment,{children:[!eo&&(0,i.jsxs)(F,{children:[(0,i.jsx)(c.Bb,{children:ec("paymentPending")}),(0,i.jsx)(c.TZ,{children:ec("completePayment")})]}),eo&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(H,{paymentInProgress:eQ,className:"".concat(eo?"landscape":""),children:[(0,i.jsx)("img",{src:(0,l.jW)(w.Z),alt:""}),(0,i.jsxs)(z,{children:[(0,i.jsx)(c.Gb,{children:ec("nowPrime")}),(0,i.jsx)(c.lU,{style:{textTransform:"capitalize"},children:"".concat(ec(t.type)," ").concat(ec("pass"))})]}),!eQ&&(0,i.jsx)(c.AC,{children:"".concat(t.currencySymbol).concat(t.offerPrice)})]}),(0,i.jsx)(O,{})]}),(0,i.jsxs)(q,{children:[(0,i.jsx)(c.AC,{children:ej}),(0,i.jsx)(c.TZ,{children:ec("mins")}),(0,i.jsx)("svg",{children:(0,i.jsx)("circle",{cx:52,cy:52,r:52,fill:"none",stroke:m.qm.colors.white30,strokeWidth:12})}),(0,i.jsx)("svg",{children:(0,i.jsx)("circle",{strokeDasharray:ep,strokeDashoffset:ep-eu/599*ep,r:52,cx:52,cy:52,fill:"none",stroke:m.qm.colors.ascent,strokeWidth:12})})]}),eo&&(0,i.jsxs)(F,{className:"".concat(eo?"landscape":""),children:[(0,i.jsx)(c.Bb,{children:ec("paymentPending")}),(0,i.jsx)(c.TZ,{children:ec("completePayment")})]}),!eo&&(0,i.jsx)(ef,{url:eP}),!eo&&(0,i.jsxs)(G,{children:[(0,i.jsx)(c.gd,{style:{color:"#FA832D"},children:ec("pleaseDontCloseTab")}),(0,i.jsxs)(M,{children:[(0,i.jsx)(f.Z,{}),(0,i.jsx)(c.QV,{children:ec("checkingStatus")})]}),(0,i.jsxs)(M,{children:[(0,i.jsx)(c.lU,{children:ec("contact")}),(0,i.jsx)("a",{href:"mailto:support@now.gg",children:(0,i.jsx)(c.lU,{style:{color:m.qm.colors.link},children:"support@now.gg"})}),(0,i.jsx)(c.lU,{children:ec("help")})]})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(_,{children:[!eo&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.TZ,{style:{color:m.qm.colors.white},children:ec("paymentMethods")}),(0,i.jsx)(K,{children:Y.length>0?Y.map(e=>{var t,n;let r=null===(n=null===(t=e.name)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.replaceAll(" ",""),o=ec(r)!==r;return(0,i.jsxs)(J,{onClick:()=>ea(e),className:el!==e?"":"selected",children:[(0,i.jsx)("img",{src:e.logo,alt:""}),(0,i.jsx)(c.lU,{children:o?ec(r):e.name}),(0,i.jsx)(er,{selected:el===e})]})}):(0,i.jsx)(X,{alt:"".concat(ec("roundLoader")),src:(0,l.jW)(a.Z)})})]}),(0,i.jsxs)($,{children:[(0,i.jsx)(ee,{src:(0,l.jW)(s)}),(0,i.jsx)(ee,{src:(0,l.jW)(d)})]})]}),!eo&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(V,{children:[(0,i.jsx)(x.Jg,{onChange:e=>ed(e.target.checked),checked:es,children:(0,i.jsx)(c.gd,{children:ec("termsAccepted")})}),(0,i.jsx)(c.rU,{style:{fontSize:12,flex:1},target:"_blank",rel:"noopener noreferrer",href:"https://now.gg/terms-and-privacy.html#terms",children:ec("termsOfUse")})]}),(0,i.jsx)(g.z,{variant:"primary",disabled:!es||eN||!el,size:"xlarge",onClick:eL,children:"".concat(ec("pay")," ").concat(t.currencySymbol).concat(t.offerPrice)})]}),(0,i.jsxs)(et,{children:[(0,i.jsx)("img",{src:(0,l.jW)(p),alt:ec("info"),width:16,height:16}),(0,i.jsx)(c.gd,{children:ec("redirectForPayment")})]})]})]}),eo&&(0,i.jsx)(en,{className:"".concat(eo?"landscape":""),children:eQ?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ef,{url:eP}),(0,i.jsxs)(G,{children:[(0,i.jsx)(c.gd,{style:{color:"#FA832D"},children:ec("pleaseDontCloseTab")}),(0,i.jsxs)(M,{children:[(0,i.jsx)(f.Z,{}),(0,i.jsx)(c.QV,{children:ec("checkingStatus")})]}),(0,i.jsxs)(M,{children:[(0,i.jsx)(c.lU,{children:ec("contact")}),(0,i.jsx)("a",{href:"mailto:support@now.gg",children:(0,i.jsx)(c.lU,{style:{color:m.qm.colors.link},children:"support@now.gg"})}),(0,i.jsx)(c.lU,{children:ec("help")})]})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.TZ,{style:{color:m.qm.colors.white},children:ec("paymentMethods")}),(0,i.jsx)(K,{children:Y.length>0?Y.map(e=>(0,i.jsxs)(J,{onClick:()=>ea(e),className:el!==e?"":"selected",children:[(0,i.jsx)("img",{src:e.logo,alt:""}),(0,i.jsx)(c.lU,{children:e.name}),(0,i.jsx)(er,{selected:el===e})]})):(0,i.jsx)(X,{alt:"".concat(ec("roundLoader")),src:(0,l.jW)(a.Z)})}),(0,i.jsxs)(V,{children:[(0,i.jsx)(x.Jg,{onChange:e=>ed(e.target.checked),checked:es,children:(0,i.jsx)(c.gd,{children:ec("termsAccepted")})}),(0,i.jsx)(c.rU,{style:{fontSize:12,flex:1},target:"_blank",rel:"noopener noreferrer",href:"https://now.gg/terms-and-privacy.html#terms",children:ec("termsOfUse")})]}),(0,i.jsx)(g.z,{variant:"primary",disabled:!es||eN||!el,size:"xlarge",onClick:eL,children:"".concat(ec("pay")," ").concat(t.currencySymbol).concat(t.offerPrice)})]})})]})})]})}},89803:function(e,t,n){"use strict";var i=n(67294),r=n(77621),o=n(15431),c=n(81043),l=n(77289),a=n(51315),s=n(82492),d=n(64489),p=n(44314);t.Z=function(e){let{source:t}=e,[n,u]=(0,i.useState)(!1),h=(0,c.v9)(e=>e.play.availableNowPasses),[A,g]=(0,i.useState)(h[0]),[x,m]=(0,i.useState)(""),[f,w]=(0,i.useState)(""),[y,b]=(0,i.useState)([]),j=(0,c.v9)(e=>e.play.paymentAppId),v=(0,c.I0)();(0,i.useEffect)(()=>{(0,o.L9)("NowPassPlanViewed",{nowPassSource:t}),h.length<1&&v(d.lM)},[]),(0,i.useEffect)(()=>{(null==h?void 0:h.length)>1&&g(h[0])},[null==h?void 0:h.length]),(0,i.useEffect)(()=>{j&&(()=>{var e,t,n,i;return e=this,t=void 0,n=void 0,i=function*(){var e;let t;let n=s.default.getState().play.paymentAppId;try{if(!(t=yield(0,p.uL)(n)).success)throw Error("silenceCallback API error: ".concat(JSON.stringify(t)));m(t.data.token),w(t.data.guid)}catch(e){throw Error("silenceCallback API error: ".concat(e))}let i=yield a.Z.payTypeSupportedList({},Object.assign({appId:n,channelName:"nowgg_cloud",clientType:5,countryRegionCode:"OTHERS",countryCode:r.default.countryCode||"US",flag:2,token:t.data.token,useType:2,channel:"nowgg_cloud"},(null===r.default||void 0===r.default?void 0:r.default.isJpHomePage)&&(null===(e=h[0])||void 0===e?void 0:e.category)==="subscription"?{type:"subs"}:{}));i.success&&b(i.data.data)},new(n||(n=Promise))(function(r,o){function c(e){try{a(i.next(e))}catch(e){o(e)}}function l(e){try{a(i.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(c,l)}a((i=i.apply(e,t||[])).next())})})()},[j]);let I=(0,i.useCallback)(e=>{g(e),u(!0),(0,o.L9)(l.kdG,{planType:e.type,nowPassSource:t})},[t]);return{setShowPaymentModal:u,selectedPass:A,paymentsToken:x,paymentsGuid:f,paymentOptions:y,handleSubscriptionPlanClicked:I,showPaymentModal:n,availableNowPasses:h}}}}]);
//# sourceMappingURL=4522.6ed4175425790302.js.map